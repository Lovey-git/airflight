!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"ct+p":function(i,n,o){"use strict";o.r(n),o.d(n,"HomePageModule",(function(){return H}));var r=o("ofXK"),a=o("TEn/"),l=o("3Pt+"),s=o("tyNb"),c=o("mrSG"),b=o("wd/R"),g=o("fXoL"),u=o("hD8V"),m=o("T4Fs"),h=o("LLt/"),d=o("yI6M"),p=o("Sy1n");function f(e,t){if(1&e){var i=g.Lb();g.Kb(0,"ion-select-option",24),g.Sb("click",(function(){g.cc(i);var e=t.$implicit;return g.Ub(2).getSelectedFromLocation(e)})),g.gc(1),g.Jb()}if(2&e){var n=t.$implicit,o=g.Ub(2);g.Zb("disabled",n==o.selectedTo),g.xb(1),g.hc(n)}}function _(e,t){if(1&e){var i=g.Lb();g.Kb(0,"ion-select-option",24),g.Sb("click",(function(){g.cc(i);var e=t.$implicit;return g.Ub(2).getSelectedToDestination(e)})),g.gc(1),g.Jb()}if(2&e){var n=t.$implicit,o=g.Ub(2);g.Zb("disabled",n==o.selectedFrom),g.xb(1),g.hc(n)}}function v(e,t){if(1&e&&(g.Kb(0,"ion-item"),g.Kb(1,"ion-label"),g.gc(2,"Return Date:"),g.Jb(),g.Kb(3,"ion-item"),g.Ib(4,"ion-datetime",25),g.Jb(),g.Jb()),2&e){var i=g.Ub(2);g.xb(4),g.Zb("min",i.minDate)("max",i.maxDate)}}function J(e,t){if(1&e){var i=g.Lb();g.Kb(0,"div",4),g.Kb(1,"ion-col"),g.Kb(2,"div",5),g.Ib(3,"ion-icon",6),g.Ib(4,"br"),g.Kb(5,"strong"),g.gc(6,"Flight"),g.Jb(),g.Ib(7,"br"),g.Kb(8,"ion-label",7),g.gc(9,"You don't Always need wings to fly!, we got that covered "),g.Jb(),g.Ib(10,"br"),g.Ib(11,"br"),g.Jb(),g.Kb(12,"form",8),g.Sb("ngSubmit",(function(e){return g.cc(i),g.Ub().proceed(e)})),g.Kb(13,"div",9),g.Kb(14,"ion-segment",10),g.Sb("ngModelChange",(function(e){return g.cc(i),g.Ub().flight_type=e})),g.Kb(15,"ion-segment-button",11),g.Kb(16,"ion-label"),g.gc(17,"One Way Trip"),g.Jb(),g.Jb(),g.Kb(18,"ion-segment-button",12),g.Kb(19,"ion-label"),g.gc(20,"Round Trip"),g.Jb(),g.Jb(),g.Jb(),g.Jb(),g.Kb(21,"ion-item"),g.Kb(22,"ion-label"),g.gc(23,"From:"),g.Jb(),g.Kb(24,"ion-select",13),g.Sb("ionChange",(function(e){return g.cc(i),g.Ub().selectedFromFunction(e)})),g.fc(25,f,2,2,"ion-select-option",14),g.Jb(),g.Jb(),g.Kb(26,"ion-item"),g.Kb(27,"ion-label"),g.gc(28,"To:"),g.Jb(),g.Kb(29,"ion-select",15),g.Sb("ionChange",(function(e){return g.cc(i),g.Ub().selectedToFunction(e)})),g.fc(30,_,2,2,"ion-select-option",14),g.Jb(),g.Jb(),g.Kb(31,"ion-item"),g.Kb(32,"ion-label"),g.gc(33,"Departure Date:"),g.Jb(),g.Kb(34,"ion-item"),g.Kb(35,"ion-datetime",16),g.Sb("ionChange",(function(e){return g.cc(i),g.Ub().selectedDepatDate(e)})),g.Jb(),g.Jb(),g.Jb(),g.fc(36,v,5,2,"ion-item",17),g.Kb(37,"ion-item"),g.Kb(38,"ion-label"),g.gc(39,"Class:"),g.Jb(),g.Kb(40,"ion-select",18),g.Kb(41,"ion-select-option"),g.gc(42,"First Class"),g.Jb(),g.Kb(43,"ion-select-option"),g.gc(44,"Economy Class"),g.Jb(),g.Kb(45,"ion-select-option"),g.gc(46,"Business Class"),g.Jb(),g.Jb(),g.Jb(),g.Kb(47,"ion-item"),g.Kb(48,"ion-label"),g.gc(49," Adults: "),g.Jb(),g.Kb(50,"ion-label"),g.gc(51),g.Jb(),g.Kb(52,"ion-range",19),g.Sb("ngModelChange",(function(e){return g.cc(i),g.Ub().adults=e})),g.Kb(53,"ion-icon",20),g.Sb("click",(function(){return g.cc(i),g.Ub().removeAdult()})),g.Jb(),g.Kb(54,"ion-icon",21),g.Sb("click",(function(){return g.cc(i),g.Ub().addAdult()})),g.Jb(),g.Jb(),g.Jb(),g.Kb(55,"ion-item"),g.Kb(56,"ion-label"),g.gc(57," Children : "),g.Jb(),g.Kb(58,"ion-label"),g.gc(59),g.Jb(),g.Kb(60,"ion-range",22),g.Sb("ngModelChange",(function(e){return g.cc(i),g.Ub().children=e})),g.Kb(61,"ion-icon",20),g.Sb("click",(function(){return g.cc(i),g.Ub().removeChildren()})),g.Jb(),g.Kb(62,"ion-icon",21),g.Sb("click",(function(){return g.cc(i),g.Ub().addChildren()})),g.Jb(),g.Jb(),g.Jb(),g.Kb(63,"ion-button",23),g.gc(64,"Proceed"),g.Jb(),g.Jb(),g.Jb(),g.Jb()}if(2&e){var n=g.Ub();g.xb(12),g.Zb("formGroup",n.flightForm),g.xb(2),g.Zb("ngModel",n.flight_type),g.xb(11),g.Zb("ngForOf",n.destination_list),g.xb(5),g.Zb("ngForOf",n.destination_list),g.xb(5),g.Zb("min",n.minDate)("max",n.maxDate),g.xb(1),g.Zb("ngIf","Round Trip"==n.flight_type),g.xb(15),g.hc(n.adults),g.xb(1),g.Zb("ngModel",n.adults),g.xb(7),g.hc(n.children),g.xb(1),g.Zb("ngModel",n.children)}}function y(e,t){1&e&&(g.Kb(0,"ion-card",32),g.Ib(1,"ion-icon",33),g.gc(2," No flights available! This may be due to existing travel bans. Please revise your search criteria. "),g.Jb())}function K(e,t){if(1&e&&(g.Kb(0,"div"),g.fc(1,y,3,0,"ion-card",31),g.Jb()),2&e){var i=g.Ub(2);g.xb(1),g.Zb("ngIf",0==i.oneWayAvailableFlights.length)}}function x(e,t){1&e&&(g.Kb(0,"ion-card",32),g.Ib(1,"ion-icon",33),g.gc(2," No flights available! This may be due to existing travel bans. Please revise your search criteria. "),g.Jb())}function S(e,t){if(1&e&&(g.Kb(0,"div"),g.fc(1,x,3,0,"ion-card",31),g.Jb()),2&e){var i=g.Ub(2);g.xb(1),g.Zb("ngIf",0==i.returnAvailableFlights.length)}}function I(e,t){if(1&e){var i=g.Lb();g.Kb(0,"ion-card"),g.Kb(1,"div",32),g.Kb(2,"div"),g.gc(3),g.Jb(),g.Kb(4,"div",34),g.Kb(5,"div",35),g.Kb(6,"div",36),g.Kb(7,"span",37),g.gc(8),g.Vb(9,"slice"),g.Jb(),g.Kb(10,"span",38),g.gc(11),g.Jb(),g.Jb(),g.Kb(12,"div",39),g.Ib(13,"div",40),g.Kb(14,"div",41),g.Ib(15,"span",42),g.Kb(16,"span",43),g.Ib(17,"span"),g.gc(18,"\xa0 "),g.Jb(),g.Jb(),g.Jb(),g.Kb(19,"div",44),g.Kb(20,"span",37),g.Kb(21,"span"),g.gc(22),g.Vb(23,"slice"),g.Jb(),g.Jb(),g.Kb(24,"span",45),g.gc(25),g.Jb(),g.Jb(),g.Jb(),g.Jb(),g.Jb(),g.Kb(26,"div",46),g.Kb(27,"span",47),g.Kb(28,"span",48),g.gc(29,"\xa0"),g.Jb(),g.Jb(),g.Kb(30,"span",49),g.Sb("click",(function(){g.cc(i);var e=t.$implicit;return g.Ub(2).proceed(e)})),g.gc(31," Book "),g.Jb(),g.Jb(),g.Jb()}if(2&e){var n=t.$implicit;g.xb(3),g.ic(" Depart : ",n.depart," "),g.xb(5),g.ic(" ",g.Wb(9,5,n.time_slot,0,5),""),g.xb(3),g.ic(" ",n.from_abbr,""),g.xb(11),g.ic(" ",g.Wb(23,9,n.time_slot_land,0,5),""),g.xb(3),g.ic(" ",n.to_abbr,"")}}function k(e,t){if(1&e){var i=g.Lb();g.Kb(0,"ion-card",50),g.Kb(1,"div",32),g.Kb(2,"div"),g.gc(3),g.Jb(),g.Kb(4,"div",34),g.Kb(5,"div",35),g.Kb(6,"div",36),g.Kb(7,"span",37),g.gc(8),g.Vb(9,"slice"),g.Jb(),g.Kb(10,"span",38),g.gc(11),g.Jb(),g.Jb(),g.Kb(12,"div",39),g.Ib(13,"div",40),g.Kb(14,"div",41),g.Ib(15,"span",42),g.Kb(16,"span",43),g.Ib(17,"span"),g.gc(18,"\xa0 "),g.Jb(),g.Jb(),g.Jb(),g.Kb(19,"div",44),g.Kb(20,"span",37),g.Kb(21,"span"),g.gc(22),g.Vb(23,"slice"),g.Jb(),g.Jb(),g.Kb(24,"span",45),g.gc(25),g.Jb(),g.Jb(),g.Jb(),g.Jb(),g.Jb(),g.Kb(26,"div",51),g.Kb(27,"div"),g.gc(28),g.Jb(),g.Kb(29,"div",34),g.Kb(30,"div",35),g.Kb(31,"div",36),g.Kb(32,"span",37),g.gc(33),g.Vb(34,"slice"),g.Jb(),g.Kb(35,"span",38),g.gc(36),g.Jb(),g.Jb(),g.Kb(37,"div",39),g.Ib(38,"div",40),g.Kb(39,"div",41),g.Ib(40,"span",42),g.Kb(41,"span",43),g.Ib(42,"span"),g.gc(43,"\xa0 "),g.Jb(),g.Jb(),g.Jb(),g.Kb(44,"div",44),g.Kb(45,"span",37),g.Kb(46,"span"),g.gc(47),g.Vb(48,"slice"),g.Jb(),g.Jb(),g.Kb(49,"span",45),g.gc(50),g.Jb(),g.Jb(),g.Jb(),g.Jb(),g.Jb(),g.Kb(51,"div",46),g.Kb(52,"span",47),g.Kb(53,"span",48),g.gc(54,"\xa0"),g.Jb(),g.Jb(),g.Kb(55,"span",49),g.Sb("click",(function(){g.cc(i);var e=t.$implicit;return g.Ub(2).proceed(e)})),g.gc(56," Book "),g.Jb(),g.Jb(),g.Jb()}if(2&e){var n=t.$implicit;g.xb(3),g.ic(" Depart : ",n.depart," "),g.xb(5),g.ic(" ",g.Wb(9,10,n.time_slot,0,5),""),g.xb(3),g.ic(" ",n.from_abbr,""),g.xb(11),g.ic(" ",g.Wb(23,14,n.time_slot_land,0,5),""),g.xb(3),g.ic(" ",n.to_abbr,""),g.xb(3),g.ic(" Return : ",n.return," "),g.xb(5),g.ic(" ",g.Wb(34,18,n.return_time_slot,0,5),""),g.xb(3),g.ic(" ",n.to_abbr,""),g.xb(11),g.ic(" ",g.Wb(48,22,n.return_time_slot_land,0,5),""),g.xb(3),g.ic(" ",n.from_abbr,"")}}function F(e,t){if(1&e){var i=g.Lb();g.Kb(0,"div",26),g.Kb(1,"ion-col"),g.Kb(2,"div"),g.Kb(3,"div",5),g.Ib(4,"ion-icon",6),g.Ib(5,"br"),g.Kb(6,"strong"),g.gc(7,"Available Flights"),g.Jb(),g.Jb(),g.fc(8,K,2,1,"div",17),g.fc(9,S,2,1,"div",17),g.fc(10,I,32,13,"ion-card",27),g.fc(11,k,57,26,"ion-card",28),g.Jb(),g.Jb(),g.Kb(12,"ion-row"),g.Kb(13,"ion-col"),g.Kb(14,"ion-button",29),g.Sb("click",(function(){return g.cc(i),g.Ub().search()})),g.gc(15," Search "),g.Jb(),g.Jb(),g.Kb(16,"ion-col"),g.Kb(17,"ion-button",30),g.Sb("click",(function(){return g.cc(i),g.Ub().cancelOrder()})),g.gc(18," Cancel Booking "),g.Jb(),g.Jb(),g.Jb(),g.Jb()}if(2&e){var n=g.Ub();g.xb(8),g.Zb("ngIf","One Way Trip"==n.flight_type),g.xb(1),g.Zb("ngIf","Round Trip"==n.flight_type),g.xb(1),g.Zb("ngForOf",n.oneWayAvailableFlights),g.xb(1),g.Zb("ngForOf",n.returnAvailableFlights)}}function C(e,t){if(1&e){var i=g.Lb();g.Kb(0,"ion-list"),g.Kb(1,"ion-item",57),g.Kb(2,"ion-label",58),g.gc(3),g.Jb(),g.Kb(4,"ion-text",59),g.gc(5),g.Jb(),g.Kb(6,"ion-text",59),g.gc(7),g.Jb(),g.Kb(8,"ion-icon",60),g.Sb("click",(function(){g.cc(i);var e=t.index;return g.Ub(2).removeMealsDepart(e)})),g.Jb(),g.Jb(),g.Jb()}if(2&e){var n=t.$implicit;g.xb(3),g.hc(n.meal.text),g.xb(2),g.ic("Qty: ",n.qty.value,""),g.xb(2),g.ic("R ",n.qty.value*n.meal.value,"")}}function M(e,t){if(1&e){var i=g.Lb();g.Kb(0,"ion-list"),g.Kb(1,"ion-item",57),g.Kb(2,"ion-label",58),g.gc(3),g.Jb(),g.Kb(4,"ion-text",59),g.gc(5),g.Jb(),g.Kb(6,"ion-text",59),g.gc(7),g.Jb(),g.Kb(8,"ion-icon",60),g.Sb("click",(function(){g.cc(i);var e=t.index;return g.Ub(3).removeMealsReturn(e)})),g.Jb(),g.Jb(),g.Jb()}if(2&e){var n=t.$implicit;g.xb(3),g.hc(n.meal.text),g.xb(2),g.ic("Qty: ",n.qty.value,""),g.xb(2),g.ic("R ",n.qty.value*n.meal.value,"")}}function O(e,t){if(1&e){var i=g.Lb();g.Kb(0,"div"),g.Kb(1,"ion-row"),g.Kb(2,"ion-col"),g.Kb(3,"ion-button",53),g.Sb("click",(function(){return g.cc(i),g.Ub(2).showPickerReturn()})),g.Ib(4,"ion-icon",54),g.gc(5," Choose a Meal or beverage "),g.Jb(),g.Jb(),g.Jb(),g.Kb(6,"ion-list-header"),g.Kb(7,"ion-label"),g.Kb(8,"strong"),g.gc(9,"Selected Return Meals"),g.Jb(),g.Jb(),g.Jb(),g.fc(10,M,9,3,"ion-list",27),g.Jb()}if(2&e){var n=g.Ub(2);g.xb(10),g.Zb("ngForOf",n.selectedMealsReturn)}}function D(e,t){if(1&e){var i=g.Lb();g.Kb(0,"div",4),g.Kb(1,"ion-col"),g.Kb(2,"div",5),g.Ib(3,"ion-icon",52),g.Ib(4,"br"),g.Kb(5,"strong"),g.gc(6,"Meals"),g.Jb(),g.Ib(7,"br"),g.Kb(8,"ion-label",7),g.gc(9,"Let's Dine aboard!"),g.Jb(),g.Ib(10,"br"),g.Ib(11,"br"),g.Jb(),g.Kb(12,"form",8),g.Sb("ngSubmit",(function(e){return g.cc(i),g.Ub().proceed(e)})),g.Kb(13,"ion-row"),g.Kb(14,"ion-col"),g.Kb(15,"ion-button",53),g.Sb("click",(function(){return g.cc(i),g.Ub().showPickerDepart()})),g.Ib(16,"ion-icon",54),g.gc(17," Choose a Meal or beverage "),g.Jb(),g.Jb(),g.Jb(),g.Kb(18,"ion-list-header"),g.Kb(19,"ion-label"),g.Kb(20,"strong"),g.gc(21,"Selected Depart Meals"),g.Jb(),g.Jb(),g.Jb(),g.fc(22,C,9,3,"ion-list",27),g.fc(23,O,11,1,"div",17),g.Kb(24,"ion-row"),g.Kb(25,"ion-col"),g.Kb(26,"ion-button",55),g.gc(27,"Proceed "),g.Jb(),g.Jb(),g.Jb(),g.Kb(28,"ion-row"),g.Kb(29,"ion-col"),g.Kb(30,"ion-button",56),g.Sb("click",(function(){return g.cc(i),g.Ub().restMeals()})),g.gc(31,"Reset"),g.Jb(),g.Jb(),g.Kb(32,"ion-col"),g.Kb(33,"ion-button",30),g.Sb("click",(function(){return g.cc(i),g.Ub().cancelOrder()})),g.gc(34," Cancel Booking "),g.Jb(),g.Jb(),g.Jb(),g.Jb(),g.Jb(),g.Jb()}if(2&e){var n=g.Ub();g.xb(12),g.Zb("formGroup",n.flightForm),g.xb(10),g.Zb("ngForOf",n.selectedMealsDepart),g.xb(1),g.Zb("ngIf","Round Trip"==n.flight_type)}}function w(e,t){if(1&e&&(g.Kb(0,"ion-list"),g.Kb(1,"ion-item",57),g.Kb(2,"ion-label",58),g.gc(3),g.Jb(),g.Kb(4,"ion-item",68),g.Kb(5,"ion-label"),g.gc(6),g.Jb(),g.Jb(),g.Jb(),g.Jb()),2&e){var i=t.$implicit;g.xb(3),g.hc(i.meal.text),g.xb(3),g.ic(" Qty: ",i.qty.value," ")}}function P(e,t){if(1&e){var i=g.Lb();g.Kb(0,"form",8),g.Sb("ngSubmit",(function(e){return g.cc(i),g.Ub(3).proceed(e)})),g.Kb(1,"ion-list-header"),g.Kb(2,"ion-label"),g.Kb(3,"strong"),g.gc(4,"Selected Depart Meals"),g.Jb(),g.Jb(),g.Jb(),g.fc(5,w,7,2,"ion-list",27),g.Jb()}if(2&e){var n=g.Ub(3);g.Zb("formGroup",n.bookingForm),g.xb(5),g.Zb("ngForOf",n.booking_Depart_Meals)}}function R(e,t){if(1&e&&(g.Kb(0,"ion-list"),g.Kb(1,"ion-item",57),g.Kb(2,"ion-label",58),g.gc(3),g.Jb(),g.Kb(4,"ion-item",68),g.Kb(5,"ion-label"),g.gc(6),g.Jb(),g.Jb(),g.Jb(),g.Jb()),2&e){var i=t.$implicit;g.xb(3),g.hc(i.meal.text),g.xb(3),g.ic(" Qty: ",i.qty.value," ")}}function A(e,t){if(1&e){var i=g.Lb();g.Kb(0,"form",8),g.Sb("ngSubmit",(function(e){return g.cc(i),g.Ub(3).proceed(e)})),g.Kb(1,"ion-list-header"),g.Kb(2,"ion-label"),g.Kb(3,"strong"),g.gc(4,"Selected Return Meals"),g.Jb(),g.Jb(),g.Jb(),g.fc(5,R,7,2,"ion-list",27),g.Jb()}if(2&e){var n=g.Ub(3);g.Zb("formGroup",n.bookingForm),g.xb(5),g.Zb("ngForOf",n.booking_Return_Meals)}}function T(e,t){if(1&e&&(g.Kb(0,"ion-col"),g.fc(1,P,6,2,"form",67),g.fc(2,A,6,2,"form",67),g.Jb()),2&e){var i=g.Ub(2);g.xb(1),g.Zb("ngIf",0!=i.booking_Depart_Meals.length),g.xb(1),g.Zb("ngIf",0!=i.booking_Return_Meals.length)}}function W(e,t){if(1&e&&(g.Kb(0,"ion-col"),g.Kb(1,"div",5),g.Kb(2,"strong"),g.gc(3),g.Jb(),g.Jb(),g.Jb()),2&e){var i=g.Ub(2);g.xb(3),g.ic(" Meals total: R",i.meal_tot," ")}}function U(e,t){if(1&e){var i=g.Lb();g.Kb(0,"div",61),g.Kb(1,"div",5),g.Ib(2,"br"),g.Ib(3,"ion-icon",62),g.Ib(4,"br"),g.Kb(5,"strong"),g.gc(6,"Booking Details"),g.Jb(),g.Ib(7,"br"),g.Kb(8,"ion-label",7),g.gc(9,"Almost There!"),g.Jb(),g.Jb(),g.Kb(10,"ion-row"),g.Kb(11,"ion-col"),g.Kb(12,"form",8),g.Sb("ngSubmit",(function(e){return g.cc(i),g.Ub().proceed(e)})),g.Kb(13,"ion-list-header"),g.Kb(14,"ion-label"),g.Kb(15,"strong"),g.gc(16,"Flight Details"),g.Jb(),g.Jb(),g.Jb(),g.Kb(17,"ion-list"),g.Kb(18,"ion-item",63),g.Kb(19,"ion-label",64),g.gc(20,"From: "),g.Jb(),g.Kb(21,"ion-label",65),g.gc(22),g.Jb(),g.Jb(),g.Kb(23,"ion-item",63),g.Kb(24,"ion-label",64),g.gc(25,"To: "),g.Jb(),g.Kb(26,"ion-label",65),g.gc(27),g.Jb(),g.Jb(),g.Kb(28,"ion-item",63),g.Kb(29,"ion-label",64),g.gc(30,"Depart: "),g.Jb(),g.Kb(31,"ion-label",65),g.gc(32),g.Jb(),g.Jb(),g.Kb(33,"ion-item",63),g.Kb(34,"ion-label",64),g.gc(35,"Return: "),g.Jb(),g.Kb(36,"ion-label",65),g.gc(37),g.Jb(),g.Jb(),g.Kb(38,"ion-item",63),g.Kb(39,"ion-label",64),g.gc(40,"Class: "),g.Jb(),g.Kb(41,"ion-label",65),g.gc(42),g.Jb(),g.Jb(),g.Kb(43,"ion-item",63),g.Kb(44,"ion-label",64),g.gc(45,"Adults: "),g.Jb(),g.Kb(46,"ion-label",65),g.gc(47),g.Jb(),g.Jb(),g.Kb(48,"ion-item",63),g.Kb(49,"ion-label",64),g.gc(50,"Children (under 12): "),g.Jb(),g.Kb(51,"ion-label",65),g.gc(52),g.Jb(),g.Jb(),g.Kb(53,"ion-item",63),g.Kb(54,"ion-label",64),g.gc(55,"Departure Time: "),g.Jb(),g.Kb(56,"ion-label",65),g.gc(57),g.Jb(),g.Jb(),g.Kb(58,"ion-item",63),g.Kb(59,"ion-label",64),g.gc(60,"Return Time: "),g.Jb(),g.Kb(61,"ion-label",65),g.gc(62),g.Jb(),g.Jb(),g.Jb(),g.Jb(),g.Jb(),g.fc(63,T,3,2,"ion-col",17),g.Jb(),g.Kb(64,"ion-row"),g.Kb(65,"ion-col"),g.Kb(66,"div",5),g.Kb(67,"strong"),g.gc(68),g.Jb(),g.Jb(),g.Jb(),g.fc(69,W,4,1,"ion-col",17),g.Jb(),g.Kb(70,"ion-row"),g.Kb(71,"ion-col"),g.Kb(72,"ion-button",66),g.Sb("click",(function(){return g.cc(i),g.Ub().booking()})),g.gc(73," Confirm and Book "),g.Jb(),g.Jb(),g.Kb(74,"ion-col"),g.Kb(75,"ion-button",30),g.Sb("click",(function(){return g.cc(i),g.Ub().cancelOrder()})),g.gc(76," Cancel Booking "),g.Jb(),g.Jb(),g.Jb(),g.Jb()}if(2&e){var n=g.Ub();g.xb(12),g.Zb("formGroup",n.bookingForm),g.xb(10),g.hc(n.from),g.xb(5),g.hc(n.to),g.xb(5),g.hc(n.depart),g.xb(5),g.hc(n.return),g.xb(5),g.hc(n._class),g.xb(5),g.hc(n.adults),g.xb(5),g.hc(n.children),g.xb(5),g.hc(n.time_slot),g.xb(5),g.hc(n.return_time_slot),g.xb(1),g.Zb("ngIf",0!=n.booking_Depart_Meals.length||0!=n.booking_Return_Meals.length),g.xb(5),g.ic(" Flight total: R",n.flight_price," "),g.xb(1),g.Zb("ngIf",0!=n.booking_Depart_Meals.length||0!=n.booking_Return_Meals.length)}}function N(e,t){if(1&e){var i=g.Lb();g.Kb(0,"div",4),g.Kb(1,"ion-col"),g.Kb(2,"div",5),g.Ib(3,"ion-icon",69),g.Ib(4,"br"),g.Kb(5,"strong"),g.gc(6,"Payment"),g.Jb(),g.Ib(7,"br"),g.Kb(8,"ion-label",7),g.gc(9,"Well we can't all fly for free!"),g.Jb(),g.Ib(10,"br"),g.Ib(11,"br"),g.Ib(12,"img",70),g.Ib(13,"br"),g.Jb(),g.Kb(14,"form",71),g.Kb(15,"ion-col"),g.Kb(16,"ion-label"),g.gc(17,"Card Number:"),g.Jb(),g.Ib(18,"ion-input",72),g.Jb(),g.Kb(19,"ion-col"),g.Kb(20,"ion-label"),g.gc(21,"Card holders name:"),g.Jb(),g.Ib(22,"ion-input",73),g.Jb(),g.Kb(23,"ion-col"),g.Kb(24,"ion-item",74),g.Kb(25,"ion-label",64),g.gc(26,"Expiration Date"),g.Jb(),g.Kb(27,"ion-label",59),g.gc(28,"CVV"),g.Jb(),g.Jb(),g.Jb(),g.Kb(29,"ion-row"),g.Kb(30,"ion-col"),g.Ib(31,"ion-datetime",75),g.Jb(),g.Kb(32,"ion-col"),g.Ib(33,"ion-datetime",76),g.Jb(),g.Kb(34,"ion-col"),g.Ib(35,"ion-input",77),g.Jb(),g.Jb(),g.Kb(36,"ion-col"),g.Kb(37,"ion-button",78),g.Sb("click",(function(){return g.cc(i),g.Ub().pay()})),g.gc(38,"Submit"),g.Jb(),g.Jb(),g.Kb(39,"ion-col"),g.Kb(40,"ion-button",30),g.Sb("click",(function(){return g.cc(i),g.Ub().cancelOrder()})),g.gc(41," Cancel Booking "),g.Jb(),g.Jb(),g.Jb(),g.Jb(),g.Jb()}if(2&e){var n=g.Ub();g.xb(14),g.Zb("formGroup",n.paymentForm),g.xb(17),g.ac("min",n.minDate2),g.xb(2),g.Zb("min",n.minDate3)}}var q,L,Z,B=[{path:"",component:(q=function(){function i(t,n,o,r,a,s,c,g,u,m,h){e(this,i),this.router=t,this.fb=n,this.api=o,this.toaster=r,this.authService=a,this.alertCtrl=s,this.loadingCtrl=c,this.navCtrl=g,this.pickerController=u,this.d=m,this.app=h,this.destination_list=["OR Tambo","PE International","Cape Town International","King Shaka"],this.destionation_list_abb=[{name:"OR Tambo",abb:"JNB"},{name:"PE International",abb:"PLZ"},{name:"Cape Town International",abb:"CPT"},{name:"King Shaka",abb:"DUR"}],this.oneWayAvailableFlights=[],this.oneWayFlights=[{flight_no:"A909",depart:"2021-02-27",from:"OR Tambo",from_abbr:"JNB",to:"PE International",to_abbr:"PLZ",time_slot:"06:00 am",time_slot_land:"10:00 am"},{flight_no:"A906",depart:"2021-02-26",from:"OR Tambo",from_abbr:"JNB",to:"Cape Town International",to_abbr:"CPT",time_slot:"16:00 pm",time_slot_land:"19:00 pm"},{flight_no:"A903",depart:"2021-02-26",from:"OR Tambo",from_abbr:"JNB",to:"Cape Town International",to_abbr:"CPT",time_slot:"20:00 pm",time_slot_land:"22:00 pm"}],this.returnAvailableFlights=[],this.returnFilghts=[{flight_no:"A409",depart:"2021-02-27",return:"2021-02-27",from:"OR Tambo",from_abbr:"JNB",to:"PE International",to_abbr:"PLZ",time_slot:"14:00 pm",time_slot_land:"16:00 pm",return_time_slot:"14:40 pm",return_time_slot_land:"16:20"},{flight_no:"A503",depart:"2021-02-26",return:"2021-02-27",from:"OR Tambo",from_abbr:"JNB",to:"PE International",to_abbr:"PLZ",time_slot:"14:00 pm",time_slot_land:"16:00 pm",return_time_slot:"14:40 pm",return_time_slot_land:"16:20"}],this.meals_prices=[50,80,60,80,50,55,30,120,80,100,70,60,82,50,20,50,40,30,30],this.meals=["Fruit Platter","Tofu and salad","Tomato/Butternut soup","Beef/Chicken Keebabs in sauce","Assorted nuts and cheese","Bacon and egg toast","Chicken mayo sarmie","Oatmeal + mik"," Beef lasgna + green salad"," Meatballs and pasta","Pap/Rice, chicken +1 choice salad","Nuggets","Half cheesecake","Malva pudding","Wine by the glass","440ml fizzy drink","Hot drinks","Fruit juice","Water"],this.selectedMealsDepart=new Array,this.selectedMealsReturn=new Array,this.Destinations=this.d.destination_list,this.indexDepart=0,this.indexReturn=0,this.meal_tot=0,this.flight_price=0,this.flight_type="One Way Trip",this.children=0,this.adults=1,this.minDate2=(new Date).toISOString(),this.minDate=b().add(0,"d").format().toString(),this.maxDate=b().add(60,"d").format().toString(),this.day=this.minDate,this.current_page=localStorage.getItem("current_page"),this.current_page_type=localStorage.getItem("current_page_type"),this.mask={guide:!0,showMask:!0,mask:[/\d/,/\d/,/\d/,/\d/," ",/\d/,/\d/,/\d/,/\d/," ",/\d/,/\d/,/\d/,/\d/," ",/\d/,/\d/,/\d/,/\d/]};var d=new Date,p=d.setMonth(d.getMonth()+1,1);this.minDate3=new Date(p).toISOString(),this.flightForm=this.fb.group({from:["",l.m.required],to:["",l.m.required],depart:[this.minDate,l.m.required],return:["",l.m.required],children:["0",l.m.required],adults:["1",l.m.required],_class:["Economy Class",l.m.required],time_slot:["",l.m.required],flight_type:["",l.m.required],return_time_slot:"Round Trip"==this.flight_type?["-",l.m.required]:["One Way Trip",l.m.required]}),this.mealsForm=this.fb.group({from:["",l.m.required],to:["",l.m.required],depart:[this.minDate,l.m.required],return:["One Way",l.m.required],children:["0",l.m.required],adults:["1",l.m.required]}),this.bookingForm=this.fb.group({from:["",l.m.required],to:["",l.m.required],depart:[this.minDate,l.m.required],return:["One Way",l.m.required],children:["0",l.m.required],adults:["1",l.m.required]}),this.paymentForm=this.fb.group({card_number:["",l.m.required],card_holder:["",l.m.required],card_expMonth:["",l.m.required],card_expYear:["",l.m.required],card_cvv:["",l.m.required]})}var n,o,r;return n=i,(o=[{key:"ngOnInit",value:function(){if(this.hours=(new Date).getHours(),this.isLogged=this.authService.isLoggedin(),this.flight_type=localStorage.getItem("flight_type"),localStorage.getItem("current_page")||(this.current_page="flight",localStorage.setItem("current_page",this.current_page)),localStorage.getItem("current_page_type")||(this.current_page_type="flight",localStorage.setItem("current_page_type",this.current_page_type)),"availableFlights"==this.current_page_type&&(this.current_page_type="availableFlights",this.oneWayAvailableFlights=JSON.parse(localStorage.getItem("oneWayAvailableFlights")),console.log(this.oneWayAvailableFlights),this.returnAvailableFlights=JSON.parse(localStorage.getItem("returnAvailableFlights")),console.log(this.returnAvailableFlights)),"booking"==this.current_page_type){var e=JSON.parse(localStorage.getItem("DepartMeals")),t=JSON.parse(localStorage.getItem("ReturnMeals"));this.booking_Depart_Meals=e,this.booking_Return_Meals=t,this.to=localStorage.getItem("to"),this.from=localStorage.getItem("from"),this.depart=localStorage.getItem("depart").substr(0,10),this.return=localStorage.getItem("return").substr(0,10),this.adults=Number(localStorage.getItem("adults")),this.children=Number(localStorage.getItem("children")),this._class=localStorage.getItem("_class"),this.time_slot=localStorage.getItem("time_slot"),this.flight_type=localStorage.getItem("flight_type"),this.return_time_slot=localStorage.getItem("return_time_slot"),this.flight_no=localStorage.getItem("flight_no"),this.meal_tot=0;for(var i=0;i<e.length;i++)this.meal_tot+=e[i].meal.value*e[i].qty.value;for(var n=0;n<t.length;n++)this.meal_tot+=t[n].meal.value*t[n].qty.value;"Cape Town International"==this.to&&(this.flight_price=1418),"PE International"==this.to&&(this.flight_price=1849),"King Shaka"==this.to&&(this.flight_price=948),"OR Tambo"==this.to&&(this.flight_price=1348),"Business"==this._class?(this.flight_price=this.flight_price*this.adults+this.flight_price*this.children*.8,this.flight_price*=this.flight_price):this.flight_price=this.flight_price*this.adults+this.flight_price*this.children*.8}}},{key:"ionViewWillEnter",value:function(){console.log(this.isLogged),this.isLogged=this.authService.isLoggedin(),console.log(this.isLogged),this.flight_type=localStorage.getItem("flight_type"),this.flight_type=null==this.flight_type?"One Way Trip":localStorage.getItem("flight_type")}},{key:"selectedDepatDate",value:function(e){(new Date).toLocaleDateString()!=new Date(e.detail.value).toLocaleDateString()&&(this.hours=e.detail.value),(new Date).toLocaleDateString()==new Date(e.detail.value).toLocaleDateString()&&(this.hours=(new Date).getHours())}},{key:"search",value:function(){this.returnAvailableFlights=[],this.oneWayAvailableFlights=[],localStorage.removeItem("oneWayAvailableFlights"),localStorage.removeItem("returnAvailableFlights"),localStorage.setItem("current_page_type","flight"),this.current_page_type="flight"}},{key:"checkAvailableFlights",value:function(){var e=this.flightForm.get("depart").value.substr(0,10),t=this.flightForm.get("return").value.substr(0,10),i=Number(this.flightForm.get("depart").value.substr(11,2)),n=this.flightForm.get("from").value,o=this.flightForm.get("to").value;if((new Date).toLocaleDateString()!=new Date(this.flightForm.get("depart").value).toLocaleDateString()){if("One Way Trip"==this.flight_type)for(var r=0;r<this.oneWayFlights.length;r++)this.oneWayFlights[r].depart==e&&this.oneWayFlights[r].from==n&&this.oneWayFlights[r].to==o&&this.oneWayAvailableFlights.push(this.oneWayFlights[r]);if("Round Trip"==this.flight_type)for(var a=0;a<this.returnFilghts.length;a++)this.returnFilghts[a].depart==e&&this.returnFilghts[a].return==t&&this.returnFilghts[a].from==n&&this.returnAvailableFlights.push(this.returnFilghts[a])}if((new Date).toLocaleDateString()==new Date(this.flightForm.get("depart").value).toLocaleDateString()){if("Round Trip"==this.flight_type)for(var l=0;l<this.returnFilghts.length;l++)this.returnFilghts[l].depart==e&&this.returnFilghts[l].return==t&&this.returnFilghts[l].from==n&&this.returnFilghts[l].to==o&&Number(this.returnFilghts[l].time_slot.substr(0,2))>i&&this.returnAvailableFlights.push(this.returnFilghts[l]);if("One Way Trip"==this.flight_type)for(var s=0;s<this.oneWayFlights.length;s++)this.oneWayFlights[s].depart==e&&this.oneWayFlights[s].from==n&&this.oneWayFlights[s].to==o&&Number(this.oneWayFlights[s].time_slot.substr(0,2))>i&&this.oneWayAvailableFlights.push(this.oneWayFlights[s])}}},{key:"selectedFromFunction",value:function(e){this.selectedFrom=e.detail.value}},{key:"selectedToFunction",value:function(e){this.selectedTo=e.detail.value}},{key:"selectedFlightType",value:function(e){this.flight_type=e.detail.value,"One Way Trip"==this.flight_type&&(this.flightForm.get("return").setValue(""),this.flightForm.get("return_time_slot").setValue(""))}},{key:"selectedDepatTime",value:function(e){console.log(e.detail.value),null==e.detail.value&&(new Date).getHours()>20&&(this.hours=e.detail.value)}},{key:"addAdult",value:function(){this.adults<10&&(this.adults+=1)}},{key:"removeAdult",value:function(){this.adults>1&&(this.adults-=1)}},{key:"addChildren",value:function(){this.children<10&&(this.children+=1)}},{key:"removeChildren",value:function(){this.children>0&&(this.children-=1)}},{key:"proceed",value:function(e){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var i,n,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i=new Date(String(this.flightForm.get("depart").value).substr(0,10)),n=new Date(String(this.flightForm.get("return").value).substr(0,10)),console.log(this.flightForm.get("time_slot").value),o=Number(this.flightForm.get("adults").value)+Number(this.flightForm.get("children").value),"flight"==this.current_page_type&&(""==this.flightForm.get("from").value?this.presentAlert("Destination from : cannot be empty"):""==this.flightForm.get("to").value?this.presentAlert("Destination to : cannot be empty"):this.flightForm.get("from").value==this.flightForm.get("to").value?this.presentAlert("Destinations cannot be the same"):""==this.flightForm.get("flight_type").value?this.presentAlert("Choose flight type"):""==this.flightForm.get("_class").value?this.presentAlert("Choose a class"):""==this.flightForm.get("return").value&&"One Way Trip"!=this.flightForm.get("flight_type").value?this.presentAlert("Choose return date"):o>10?this.presentAlert("Both adults and children combine must not exceed 10"):this.flightForm.get("depart").value&&i>n?this.presentAlert("Return date cannot be less than the depart date "):(this.checkAvailableFlights(),localStorage.setItem("current_page_type","availableFlights"),"One Way Trip"==this.flight_type?(localStorage.setItem("return","One Way"),localStorage.setItem("return_time_slot","One Way"),localStorage.setItem("oneWayAvailableFlights",JSON.stringify(this.oneWayAvailableFlights))):(localStorage.setItem("returnAvailableFlights",JSON.stringify(this.returnAvailableFlights)),localStorage.setItem("return",this.flightForm.get("return").value),localStorage.setItem("return_time_slot",this.flightForm.get("return_time_slot").value)),localStorage.setItem("from",this.flightForm.get("from").value),localStorage.setItem("to",this.flightForm.get("to").value),localStorage.setItem("depart",this.flightForm.get("depart").value),localStorage.setItem("_class",this.flightForm.get("_class").value),localStorage.setItem("adults",this.flightForm.get("adults").value),localStorage.setItem("children",this.flightForm.get("children").value),localStorage.setItem("time_slot",this.flightForm.get("time_slot").value),localStorage.setItem("flight_type",this.flightForm.get("flight_type").value),localStorage.setItem("flight_type",this.flightForm.get("flight_type").value),window.location.reload())),"availableFlights"==this.current_page_type&&(localStorage.setItem("flight_no",e.flight_no),localStorage.setItem("current_page_type","meals"),localStorage.setItem("time_slot",e.time_slot),"One Way Trip"==this.flight_type?localStorage.setItem("return_time_slot","One Way"):localStorage.setItem("return_time_slot",e.return_time_slot),window.location.reload()),"meals"==this.current_page_type&&(localStorage.setItem("current_page_type","booking"),localStorage.setItem("DepartMeals",JSON.stringify(this.selectedMealsDepart)),localStorage.setItem("ReturnMeals",JSON.stringify(this.selectedMealsReturn)),console.log(localStorage.getItem("meals")),window.location.reload());case 4:case"end":return t.stop()}}),t,this)})))}},{key:"presentAlert",value:function(e){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.alertCtrl.create({cssClass:"my-custom-class",header:"Air Food \u2708\ufe0f",subHeader:"Caution",message:e,buttons:["OK"]});case 2:return i=t.sent,t.next=5,i.present();case 5:case"end":return t.stop()}}),t,this)})))}},{key:"showPickerDepart",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={buttons:[{text:"Cancel",role:"cancel"},{text:"Ok",handler:function(e){i.selectedMealsDepart?(i.selectedMealsDepart[i.indexDepart]=e,i.selectedMealsDepart[i.indexDepart][0]=i.meals_prices[e.id],console.log(i.selectedMealsDepart),i.indexDepart++,console.log(i.indexDepart)):(console.log(i.indexDepart),console.log(e.qty.value),i.selectedMealsDepart[i.indexDepart]=e,console.log(i.selectedMealsDepart[i.indexDepart]),i.indexDepart++,console.log(i.indexDepart))}}],columns:[{name:"meal",options:this.getMealsOptions()},{name:"qty",options:this.getQuantityOptions()}]},e.next=3,this.pickerController.create(t);case 3:e.sent.present();case 4:case"end":return e.stop()}}),e,this)})))}},{key:"showPickerReturn",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={buttons:[{text:"Cancel",role:"cancel"},{text:"Ok",handler:function(e){i.selectedMealsReturn?(i.selectedMealsReturn[i.indexReturn]=e,i.selectedMealsReturn[i.indexReturn][0]=i.meals_prices[e.id],console.log(i.selectedMealsReturn[i.indexReturn]),i.indexReturn++):(console.log(i.indexReturn),console.log(e.qty.value),i.selectedMealsReturn[i.indexReturn]=e,console.log(i.selectedMealsReturn[i.indexReturn]),i.indexReturn++)}}],columns:[{name:"meal",options:this.getMealsOptions()},{name:"qty",options:this.getQuantityOptions()}]},e.next=3,this.pickerController.create(t);case 3:e.sent.present();case 4:case"end":return e.stop()}}),e,this)})))}},{key:"getSelectedFromLocation",value:function(e){this.selectedFrom=e,console.log(this.selectedFrom)}},{key:"getSelectedToDestination",value:function(e){this.selectedTo=e,console.log(this.selectedTo)}},{key:"getMealsOptions",value:function(){for(var e=[],t=0;t<this.meals.length;t++)e.push({text:this.meals[t],value:this.meals_prices[t]});return e}},{key:"getQuantityOptions",value:function(){for(var e=[],t=1;t<10;t++)e.push({text:t,value:t});return e}},{key:"removeMealsDepart",value:function(e){-1!==e&&(this.selectedMealsDepart.splice(e,1),this.indexDepart--)}},{key:"removeMealsReturn",value:function(e){-1!==e&&(this.selectedMealsReturn.splice(e,1),this.indexReturn--)}},{key:"restMeals",value:function(){window.location.reload()}},{key:"cancelOrder",value:function(){this.current_page_type="flight",localStorage.removeItem("current_page_type"),localStorage.removeItem("to"),localStorage.removeItem("from"),localStorage.removeItem("flight_type"),localStorage.removeItem("depart"),localStorage.removeItem("return"),localStorage.removeItem("adults"),localStorage.removeItem("children"),localStorage.removeItem("meals"),localStorage.removeItem("_class"),localStorage.removeItem("time_slot"),localStorage.removeItem("return_time_slot"),localStorage.removeItem("amount"),localStorage.removeItem("oneWayAvailableFlights"),localStorage.removeItem("returnAvailableFlights"),localStorage.removeItem("flight_no"),this.app.openPage("Booking"),window.location.reload()}},{key:"paymentAlert",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alertCtrl.create({cssClass:"my-custom-class",header:"Card Details",inputs:[{name:"name",type:"text",placeholder:"Name on card",cssClass:"specialClass",attributes:{inputmode:"decimal"}},{name:"cardNumber",type:"number",max:10,placeholder:"Card Number",cssClass:"specialClass",attributes:{inputmode:"decimal"}}],buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:function(){console.log("Confirm Cancel")}},{text:"Ok",handler:function(e){}}]});case 2:return t=e.sent,e.next=5,t.present();case 5:case"end":return e.stop()}}),e,this)})))}},{key:"booking",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.authService.isLoggedin()?(localStorage.setItem("current_page_type","payment"),localStorage.setItem("amount",this.meal_tot+this.flight_price+""),this.app.openPage("Payment"),window.location.reload()):this.loginAlert();case 1:case"end":return e.stop()}}),e,this)})))}},{key:"loginAlert",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.alertCtrl.create({cssClass:"my-custom-class",header:"Login!",message:"<strong>To proceed login to your account</strong>!!!",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:function(e){console.log("Confirm Cancel: blah")}},{text:"login",handler:function(){i.router.navigateByUrl("login")}}]});case 2:return t=e.sent,e.next=5,t.present();case 5:case"end":return e.stop()}}),e,this)})))}},{key:"doBook",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadingCtrl.create({cssClass:"my-custom-class",message:"Please wait..."});case 2:return t=e.sent,e.next=5,t.present();case 5:this.api.add_ticket2(localStorage.getItem("flight_no"),localStorage.getItem("from"),localStorage.getItem("to"),localStorage.getItem("flight_type"),localStorage.getItem("depart"),localStorage.getItem("return"),localStorage.getItem("adults"),localStorage.getItem("children"),0,0,localStorage.getItem("DepartMeals"),localStorage.getItem("ReturnMeals"),localStorage.getItem("_class"),localStorage.getItem("amount"),String(localStorage.getItem("time_slot")),String(localStorage.getItem("return_time_slot")),localStorage.getItem("username")).subscribe((function(e){0==e.status?(t.dismiss(),i.toaster.successToast(e.msg),localStorage.setItem("t_id",e.t_id),i.doPay()):(t.dismiss(),i.presentAlert(e.msg),console.log(e.err))}),(function(e){t.dismiss(),i.presentAlert("Could not connect to server \ud83d\udda5\ufe0f, check your internet connection!")}));case 6:case"end":return e.stop()}}),e,this)})))}},{key:"pay",value:function(){console.log(String(this.card_cvv).length),this.card_number=this.paymentForm.get("card_number").value,this.card_holder=this.paymentForm.get("card_holder").value,this.card_expMonth=this.paymentForm.get("card_expMonth").value,this.card_expYear=this.paymentForm.get("card_expYear").value,this.card_cvv=this.paymentForm.get("card_cvv").value,console.log(String(this.card_number).length),""==this.card_number||""==this.card_holder||""==this.card_expMonth||""==this.card_expYear||""==this.card_cvv?this.presentAlert("Fill in all required fields!"):String(this.card_number).length<16||String(this.card_number).length>16?this.presentAlert("card number should be 16 digits long!"):this.api.validateName(this.card_holder)?this.presentAlert("Invalid card holders name!"):String(this.card_cvv).length>4||String(this.card_cvv).length<3?this.presentAlert("CVV number should be atleast 3 digits long in length and not greater than 4!"):"2020"==String(this.card_expYear).substr(0,4)&&Number(String(this.card_expMonth).substr(5,2))<Number(this.minDate.substr(5,2))?this.presentAlert("card already expired!"):this.doBook()}},{key:"downloadMyFile",value:function(){var e=document.createElement("a");e.setAttribute("target","_self"),e.setAttribute("href","https://kohaku-air.herokuapp.com/download/"+localStorage.getItem("uuid")+localStorage.getItem("t_id")+".pdf"),e.setAttribute("download","Ticket.pdf"),document.body.appendChild(e),e.click(),e.remove()}},{key:"doPay",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadingCtrl.create({cssClass:"my-custom-class",message:"Please wait..."});case 2:return t=e.sent,e.next=5,t.present();case 5:console.log("do pay"),this.api.add_user_payment(localStorage.getItem("t_id"),localStorage.getItem("amount"),this.card_number,this.card_cvv,this.card_expYear+"-"+this.card_expMonth).subscribe((function(e){0==e.status?(t.dismiss(),i.toaster.successToast(e.msg),localStorage.setItem("current_page_type","flight"),localStorage.removeItem("current_page_type"),localStorage.removeItem("to"),localStorage.removeItem("from"),localStorage.removeItem("depart"),localStorage.removeItem("return"),localStorage.removeItem("flight_type"),localStorage.removeItem("adults"),localStorage.removeItem("children"),localStorage.removeItem("DepartMeals"),localStorage.removeItem("ReturnMeals"),localStorage.removeItem("_class"),localStorage.removeItem("time_slot"),localStorage.removeItem("return_time_slot"),localStorage.removeItem("amount"),i.downloadMyFile(),i.router.navigateByUrl("tickets"),i.app.openPage("Tickets")):(t.dismiss(),i.presentAlert(e.msg))}),(function(e){t.dismiss(),i.presentAlert("Could not connect to server \ud83d\udda5\ufe0f, check your internet connection!")}));case 7:case"end":return e.stop()}}),e,this)})))}}])&&t(n.prototype,o),r&&t(n,r),i}(),q.\u0275fac=function(e){return new(e||q)(g.Hb(s.g),g.Hb(l.a),g.Hb(u.a),g.Hb(m.a),g.Hb(h.a),g.Hb(a.b),g.Hb(a.K),g.Hb(a.N),g.Hb(a.P),g.Hb(d.a),g.Hb(p.a))},q.\u0275cmp=g.Bb({type:q,selectors:[["app-home"]],decls:7,vars:5,consts:[["fullscreen","","id","main"],["class","login-form",4,"ngIf"],["class","login-form avilablie",4,"ngIf"],["class","booking-form",4,"ngIf"],[1,"login-form"],[1,"txt-center"],["name","airplane-outline",2,"font-size","55px"],["color","dark"],[3,"formGroup","ngSubmit"],[1,"segment1"],["formControlName","flight_type","scrollable","",3,"ngModel","ngModelChange"],["value","One Way Trip","checked",""],["value","Round Trip"],["formControlName","from","value","select","okText","Okay","cancelText","Dismiss",3,"ionChange"],[3,"disabled","click",4,"ngFor","ngForOf"],["formControlName","to","value","select","okText","Okay","cancelText","Dismiss",3,"ionChange"],["formControlName","depart","displayFormat","MMMM/DD/YYYY",3,"min","max","ionChange"],[4,"ngIf"],["formControlName","_class","value","select","okText","Okay","cancelText","Dismiss"],["formControlName","adults","min","1","max","10","step","1","snaps","true","color","secondary",3,"ngModel","ngModelChange"],["size","small","slot","start","name","remove",3,"click"],["slot","end","name","add",3,"click"],["formControlName","children","min","0","max","10","step","1","snaps","true","color","secondary",3,"ngModel","ngModelChange"],["type","submit","color","primary"],[3,"disabled","click"],["formControlName","return","displayFormat","MMMM/DD/YYYY",2,"color","primary",3,"min","max"],[1,"login-form","avilablie"],[4,"ngFor","ngForOf"],["class","return_color",4,"ngFor","ngForOf"],["color","primary",3,"click"],["color","danger",3,"click"],["class","card-info-wrapper",4,"ngIf"],[1,"card-info-wrapper"],["color","warning","name","warning"],[1,"ts-itin__info","ts-itin__info--extended"],[1,"ts-itin__routes"],[1,"ts-itin__odo","ts-itin__odo--departure"],[1,"ts-itin__airport"],[1,"ts-itin__time","ts-itin__departure"],[1,"ts-itin__extras"],[1,"ts-itin-line"],[1,"container","ts-itin-extra__wrapper"],[1,"ts-itin-extra","ts-itin-extra__stops"],[1,"ts-itin-extra","ts-itin-extra__duration"],[1,"ts-itin__odo","ts-itin__odo--arrival"],[1,"ts-itin__time","ts-itin__time--arrival"],[1,"ts-card__actions","ts-card__actions--line-top"],[1,"ts-card__action","ts-card__action--price"],[1,"ts-card__action__amount"],[1,"ts-card__action","ts-card__action--last","align-end",3,"click"],[1,"return_color"],[1,"card-info-wrapper","card-info-wrapper_return"],["name","fast-food-outline",2,"font-size","55px"],["color","secondary",1,"txt-center",3,"click"],["name","add"],["type","submit","routerLink","/home","color","primary",1,"txt-center"],["color","warning",1,"txt-center",3,"click"],["lines","none","slot","start"],["slot","start","readonly",""],["slot","end"],["name","trash","slot","end","color","danger",3,"click"],[1,"booking-form"],["name","document-text-outline",2,"font-size","55px"],["lines","full"],["slot","start"],["slot",""],[3,"click"],[3,"formGroup","ngSubmit",4,"ngIf"],["lines","none","slot","end"],["name","card-outline",2,"font-size","55px"],["src","../../assets/download2.jpg"],[3,"formGroup"],["mask","(999) 999-9999","placeholder","xxxx-xxxx-xxxx-xxxx","formControlName","card_number","type","text",2,"text-align","center","border","1px solid #3880ff","border-radius","5px"],["autocomplete","cc-name","formControlName","card_holder","type","text"],["lines","none"],["formControlName","card_expYear","placeholder","YYYY","displayFormat","YYYY","max","2027",2,"text-align","center","border","1px solid #3880ff","border-radius","5px",3,"min"],["formControlName","card_expMonth","placeholder","MM","displayFormat","MM",2,"text-align","center","border","1px solid #3880ff","border-radius","5px",3,"min"],["formControlName","card_cvv","type","number","placeholder","CVV","max","3",2,"text-align","center","border","1px solid #3880ff","border-radius","5px"],["color","primary",1,"txt-center",3,"click"]],template:function(e,t){1&e&&(g.Kb(0,"ion-content",0),g.Kb(1,"ion-grid"),g.fc(2,J,65,11,"div",1),g.fc(3,F,19,4,"div",2),g.fc(4,D,35,3,"div",1),g.fc(5,U,77,13,"div",3),g.fc(6,N,42,3,"div",1),g.Jb(),g.Jb()),2&e&&(g.xb(2),g.Zb("ngIf","flight"==t.current_page_type),g.xb(1),g.Zb("ngIf","availableFlights"==t.current_page_type),g.xb(1),g.Zb("ngIf","meals"==t.current_page_type),g.xb(1),g.Zb("ngIf","booking"==t.current_page_type),g.xb(1),g.Zb("ngIf","payment"==t.current_page_type))},directives:[a.l,a.o,r.i,a.k,a.q,a.t,l.n,l.i,l.c,a.B,a.T,l.h,l.b,a.C,a.s,a.D,r.h,a.m,a.E,a.x,a.e,a.z,a.f,a.v,a.S,s.h,a.u,a.F,a.r,a.U,a.O],pipes:[r.l],styles:["[_nghost-%COMP%]   .segment1[_ngcontent-%COMP%]{padding-left:17px}[_nghost-%COMP%]   .segment1[_ngcontent-%COMP%]   ion-segment[_ngcontent-%COMP%]{width:259px!important}[_nghost-%COMP%]   .segment1[_ngcontent-%COMP%]   ion-segment[_ngcontent-%COMP%]   ion-segment-button[_ngcontent-%COMP%]{--padding-start:0px;color:#000!important}.ts-itin[_ngcontent-%COMP%], .ts-itin-line[_ngcontent-%COMP%], .ts-itin__airport[_ngcontent-%COMP%], .ts-itin__extras[_ngcontent-%COMP%], .ts-itin__info[_ngcontent-%COMP%], .ts-itin__odo[_ngcontent-%COMP%], .ts-itin__price[_ngcontent-%COMP%], .ts-itin__time[_ngcontent-%COMP%]{display:block}.card-info-wrapper[_ngcontent-%COMP%]{padding:5px}.ts-itin__routes[_ngcontent-%COMP%]{display:flex}.return_color[_ngcontent-%COMP%]{background:#c2c6d4}.avilablie[_ngcontent-%COMP%]   ion-card[_ngcontent-%COMP%]{color:#000}.ts-itin__odo[_ngcontent-%COMP%]{flex:1;padding:0}.ts-itin__airport[_ngcontent-%COMP%]{font-size:1em}.ts-itin__time[_ngcontent-%COMP%]{font-size:.75em;color:#829198}.ts-itin__extras[_ngcontent-%COMP%]{color:#829198;flex:4;padding:0 .4375em}.ts-itin-extra__duration[_ngcontent-%COMP%]{font-size:.75em;text-align:center!important}.ts-itin-extra__wrapper[_ngcontent-%COMP%]{text-align:center}.card-info-wrapper_return[_ngcontent-%COMP%]{border-top:1px solid #e6e9ea}.ts-itin-line[_ngcontent-%COMP%]{position:relative;border-top:2px solid #000;margin-top:.6375em;margin-bottom:.5em}.ts-itin__odo--arrival[_ngcontent-%COMP%]{text-align:right}.ts-card--oneway[_ngcontent-%COMP%]   .ts-card__actions[_ngcontent-%COMP%]{margin-top:0}.ts-card__actions--line-top[_ngcontent-%COMP%]{border-top:1px solid #e6e9ea}.ts-card__action--price[_ngcontent-%COMP%]{color:#15c4a1;font-size:1em;padding:.5em .5em .75em;margin-right:.5em}.ts-card__action[_ngcontent-%COMP%]{color:#3880ff;cursor:pointer}.ts-card__action[_ngcontent-%COMP%], .ts-card__label[_ngcontent-%COMP%]{display:inline-block;font-size:.975em;line-height:1;padding:.71429em .57143em .85714em;margin-right:.57143em;border:none;background:transparent;min-width:0}.align-end[_ngcontent-%COMP%], .rtl[_ngcontent-%COMP%]   .align-start[_ngcontent-%COMP%]{float:right}ion-col[_ngcontent-%COMP%]   ion-text[_ngcontent-%COMP%]{width:60PX}#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.highlight[_ngcontent-%COMP%]{background-color:#ff3!important}"]}),q)}],Y=((Z=function t(){e(this,t)}).\u0275mod=g.Fb({type:Z}),Z.\u0275inj=g.Eb({factory:function(e){return new(e||Z)},imports:[[s.j.forChild(B)],s.j]}),Z),H=((L=function t(){e(this,t)}).\u0275mod=g.Fb({type:L}),L.\u0275inj=g.Eb({factory:function(e){return new(e||L)},imports:[[r.b,l.d,a.I,Y,l.k]]}),L)}}])}();