{"version":3,"sources":["webpack:///src/app/report/report.page.html","webpack:///src/app/report/report-routing.module.ts","webpack:///src/app/report/report.module.ts","webpack:///src/app/report/report.page.scss","webpack:///src/app/report/report.page.ts"],"names":["routes","path","component","ReportPageRoutingModule","imports","forChild","exports","ReportPageModule","declarations","ReportPage","api","authService","alertCtrl","loadingCtrl","navCtrl","router","toaster","excelService","searchText","count","isLoggedin","localStorage","getItem","navigateByUrl","init","get_all_users","subscribe","data","status","users","length","presentAlert","msg","error","message","get_all_verrified_users","verifiedUsers","get_all_nonverrified_users","nonVerifiedUsers","all_users","searcher","console","log","get_all_users_by_search","ev","str","index","email","created_at","role","link","document","createElement","blob","Blob","type","url","window","URL","createObjectURL","setAttribute","body","appendChild","click","remove","exportAsExcelFile","create","cssClass","header","subHeader","buttons","text","handler","download_report","download_xlsx","alert","present","JSON","stringify","uuid","register_admin","delete_user","ur","register_as_admin","successToast","remove_user","selector","template"],"mappings":"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","file":"report-report-module-es5.js","sourcesContent":["export default \"<ion-content class=\\\"layer\\\">\\n\\n  <ion-row  class=\\\"booking-form \\\">\\n    <ion-header>\\n      <ion-segment>\\n        <ion-segment-button (click)=\\\"filterBy('v')\\\" value=\\\"Verified\\\">\\n          <ion-label>Verified users</ion-label>\\n        </ion-segment-button>\\n        <ion-segment-button (click)=\\\"filterBy('n')\\\" value=\\\"Non-Verified\\\">\\n          <ion-label>Non-Verified users</ion-label>\\n        </ion-segment-button>\\n        <ion-segment-button (click)=\\\"filterBy('a')\\\" value=\\\"all\\\">\\n          <ion-label>All users</ion-label>\\n        </ion-segment-button>\\n      </ion-segment>\\n      \\n      <ion-searchbar [(ngModel)]=\\\"searchText\\\" (ngModelChange)=\\\"searcher()\\\" showCancelButton=\\\"focus\\\"></ion-searchbar>\\n    </ion-header>\\n  </ion-row>\\n\\n  <div class=\\\"booking-form\\\">\\n    <ion-list-header>\\n      <ion-item lines=\\\"none\\\">\\n        Users ({{count}})\\n        <ion-icon (click)=\\\"download_report()\\\" name=\\\"save-outline\\\" slot=\\\"end\\\"></ion-icon>\\n      </ion-item>\\n      \\n\\n    </ion-list-header>\\n    <ion-row (click) = \\\"userAlert(item.email, item.uuid)\\\" style=\\\"border-bottom: groove;\\\" *ngFor=\\\"let item of users;\\\">\\n      <ion-col >\\n        <ion-item lines=\\\"none\\\">\\n          <ion-icon *ngIf=\\\"item.isVerified == 1\\\" color=\\\"success\\\" slot=\\\"\\\" name=\\\"checkmark-circle-outline\\\"></ion-icon>\\n          <ion-icon *ngIf=\\\"item.isVerified == 0\\\" color=\\\"danger\\\" slot=\\\"\\\" name=\\\"close-circle-outline\\\"></ion-icon>\\n          <ion-title style=\\\"text-align: left;font-size: medium;\\\">{{item.email}}</ion-title>\\n        </ion-item>\\n      </ion-col>\\n\\n      <ion-col >\\n        <ion-item lines=\\\"none\\\">\\n          <ion-title style=\\\"text-align: center;font-size: medium;\\\">{{item.created_at}}</ion-title>\\n        </ion-item>\\n      </ion-col>\\n\\n      <ion-col >\\n        <ion-item lines=\\\"none\\\">\\n          <ion-title style=\\\"text-align: right;font-size: medium;\\\">{{item.role}}</ion-title>\\n        </ion-item>\\n      </ion-col>\\n    </ion-row>\\n  </div>\\n\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { ReportPage } from './report.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: ReportPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ReportPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { ReportPageRoutingModule } from './report-routing.module';\n\nimport { ReportPage } from './report.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ReportPageRoutingModule\n  ],\n  declarations: [ReportPage]\n})\nexport class ReportPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL3JlcG9ydC9yZXBvcnQucGFnZS5zY3NzIn0= */\";","import { Component, OnInit } from '@angular/core';\nimport { ApiService } from '../../services/api.service';\nimport { ToasterService } from '../../services/toaster.service';\nimport { AuthService } from '../../services/auth.service';\nimport { AlertController, PickerController, LoadingController, MenuController, NavController } from '@ionic/angular';\nimport { Router } from '@angular/router';\nimport { ExcelService } from '../../services/excel.service';\n\n@Component({\n  selector: 'app-report',\n  templateUrl: './report.page.html',\n  styleUrls: ['./report.page.scss'],\n})\nexport class ReportPage implements OnInit {\n\n  constructor(\n    private api: ApiService,\n    private authService: AuthService,\n    private alertCtrl: AlertController,\n    public loadingCtrl: LoadingController,\n    public navCtrl: NavController,\n    private router: Router,\n    private toaster: ToasterService,\n    private excelService: ExcelService\n  ) { }\n\n  verifiedUsers: any[];\n  nonVerifiedUsers: any[];\n  searchUsers: any[];\n  all_users: any[];\n  users: any[];\n  searchText: any = '';\n  count = 0;\n\n  ngOnInit() {\n\n  }\n\n  ionViewWillEnter() {\n    if (this.authService.isLoggedin() == false || localStorage.getItem('ur') != 'admin') {\n      this.router.navigateByUrl('home');\n\n    } else {\n      this.init();\n      this.api.get_all_users().subscribe(\n        data => {\n          if (data.status == 0) {\n            this.users = data.data;\n            this.count = this.users.length;\n\n          } else {\n            this.presentAlert(data.msg);\n          }\n        }, error => {\n          this.presentAlert(error.message);\n        }\n      );\n    }\n  }\n\n  init() {\n    this.api.get_all_verrified_users().subscribe(\n      data => {\n        if (data.status == 0) {\n          this.verifiedUsers = data.data;\n        } else {\n          this.presentAlert(data.msg);\n        }\n      }, error => {\n        this.presentAlert(error.message);\n      }\n    );\n    this.api.get_all_nonverrified_users().subscribe(\n      data => {\n        if (data.status == 0) {\n          this.nonVerifiedUsers = data.data;\n        } else {\n          this.presentAlert(data.msg);\n        }\n      }, error => {\n        this.presentAlert(error.message);\n      }\n    );\n    this.api.get_all_users().subscribe(\n      data => {\n        if (data.status == 0) {\n          this.all_users = data.data;\n        } else {\n          this.presentAlert(data.msg);\n        }\n      }, error => {\n        this.presentAlert(error.message);\n      }\n    );\n    this.searcher();\n  }\n\n\n  async searcher() {\n    console.log(this.searchText);\n    this.api.get_all_users_by_search(this.searchText).subscribe(\n      data => {\n        if (data.status == 0) {\n          this.users = data.data;\n          this.count = data.data.length;\n        } else {\n          this.presentAlert(data.msg);\n        }\n      }, error => {\n        this.presentAlert(error.message);\n      }\n    );\n  }\n\n  filterBy(ev) {\n    if (ev == 'v') {\n      this.users = this.verifiedUsers;\n      this.count = this.verifiedUsers.length;\n    } else if (ev == 'n') {\n      this.users = this.nonVerifiedUsers;\n      this.count = this.nonVerifiedUsers.length;\n\n    } else if (ev == 'a') {\n      this.users = this.all_users;\n      this.count = this.all_users.length;\n    }\n  }\n\n  download_report() {\n    let str = \"email, created_at, user_role\\n\";\n    for (let index = 0; index < this.users.length; index++) {\n      str += this.users[index].email + ',' + this.users[index].created_at + ',' + this.users[index].role + '\\n';\n    }\n\n    const link = document.createElement('a');\n    const blob = new Blob([str], { type: 'text/csv' });\n    const url = window.URL.createObjectURL(blob);\n\n    link.setAttribute('target', '_self');\n    link.setAttribute('href', url);\n    link.setAttribute('download', `report.csv`);\n    document.body.appendChild(link);\n    link.click();\n    link.remove();\n  }\n\n  download_xlsx() {\n    let data: any = this.users;\n    this.excelService.exportAsExcelFile(data, 'report');\n  }\n\n  async download_report_alert() {\n    const alert = await this.alertCtrl.create({\n      cssClass: 'my-custom-class',\n      header: 'Air Food ✈️',\n      subHeader: 'Download Report',\n      message: 'Save Report as ?',\n      buttons: [\n        {\n          text: 'csv',\n          handler: () => {\n            this.download_report();\n          }\n        },\n        {\n          text: 'xlsx',\n          handler: () => {\n            this.download_xlsx();\n          }\n        },\n       \n\n      ]\n    });\n    await alert.present();\n  }\n\n\n  downloadMyFile() {\n    const link = document.createElement('a');\n    link.setAttribute('target', '_self');\n    link.setAttribute('href', 'http://localhost:8080/download/' + JSON.stringify(this.users));\n    link.setAttribute('download', `Ticket.pdf`);\n    document.body.appendChild(link);\n    link.click();\n    link.remove();\n  }\n\n  async presentAlert(msg) {\n    const alert = await this.alertCtrl.create({\n      cssClass: 'my-custom-class',\n      header: 'Air Food ✈️',\n      subHeader: 'Warning',\n      message: msg,\n      buttons: ['OK']\n    });\n    await alert.present();\n  }\n\n  async userAlert(email: string, uuid: string) {\n    const alert = await this.alertCtrl.create({\n      cssClass: 'my-custom-class',\n      header: 'Air Food ✈️',\n      subHeader: 'User :' + email,\n      message: '',\n      buttons: [\n        {\n          text: 'Register as Normal User',\n          role: 'Danger',\n          cssClass: 'secondary',\n          handler: () => {\n            this.register_admin(uuid, 'normal');\n          }\n        }, {\n          text: 'Register as Admin',\n          handler: () => {\n            this.register_admin(uuid, 'admin');\n          }\n        },\n        {\n          text: 'Delete user',\n          handler: () => {\n            this.delete_user(uuid);\n          }\n        },\n        {\n          text: 'Cancel',\n          role: 'cancel',\n        }\n      ]\n    });\n    await alert.present();\n  }\n\n  register_admin(uuid, ur) {\n    this.api.register_as_admin(uuid, ur).subscribe(\n      data => {\n        if (data.status == 0) {\n          this.toaster.successToast(data.msg);\n          this.init();\n        } else {\n          this.presentAlert(data.msg);\n        }\n      }, error => {\n        this.presentAlert(error.message);\n      }\n    );\n  }\n\n\n  delete_user(uuid) {\n    this.api.remove_user(uuid).subscribe(\n      data => {\n        if (data.status == 0) {\n          this.toaster.successToast(data.msg);\n          this.init();\n          this.count -= 1;\n        } else {\n          this.presentAlert(data.msg);\n        }\n      }, error => {\n        this.presentAlert(error.message);\n      }\n    );\n  }\n}\n\n\n\n"]}