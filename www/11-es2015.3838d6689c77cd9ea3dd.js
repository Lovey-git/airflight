(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{X3zk:function(e,t,s){"use strict";s.r(t),s.d(t,"LoginPageModule",(function(){return p}));var r=s("ofXK"),i=s("3Pt+"),o=s("TEn/"),n=s("tyNb"),l=s("mrSG"),a=s("fXoL"),c=s("hD8V"),b=s("T4Fs"),u=s("LLt/");const d=[{path:"",component:(()=>{class e{constructor(e,t,s,r,o,n,l,a){this.router=e,this.fb=t,this.api=s,this.toaster=r,this.authService=o,this.alertCtrl=n,this.loadingCtrl=l,this.navCtrl=a,this.loginForm=this.fb.group({email:["",i.l.required],password:["",i.l.required]})}ngOnInit(){}login(){return Object(l.a)(this,void 0,void 0,(function*(){let e=this.loginForm.get("email").value,t=this.loginForm.get("password").value;const s=yield this.loadingCtrl.create({cssClass:"my-custom-class",message:"Please wait..."});""==e?this.presentAlert("Email is required"):""==t?this.presentAlert("Password is required"):(yield s.present(),this.authService.login(e,t).subscribe(e=>{0==e.status?(s.dismiss(),localStorage.setItem("uuid",e.data[0].uuid),localStorage.setItem("ur",e.data[0].role),this.router.navigateByUrl("/home")):(s.dismiss(),this.presentAlert(e.msg))},e=>{}))}))}presentAlert(e){return Object(l.a)(this,void 0,void 0,(function*(){const t=yield this.alertCtrl.create({cssClass:"my-custom-class",header:"Air Food \u2708\ufe0f",subHeader:"Warning",message:e,buttons:["OK"]});yield t.present()}))}resetPass(){return Object(l.a)(this,void 0,void 0,(function*(){let e=this.loginForm.get("email").value;const t=yield this.alertCtrl.create({cssClass:"my-custom-class",header:"Reset Password!",inputs:[{name:"email",type:"text",placeholder:"Enter your Email",cssClass:"specialClass",attributes:{inputmode:"decimal",value:""}}],buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:()=>{}},{text:"Ok",handler:t=>Object(l.a)(this,void 0,void 0,(function*(){const s=yield this.loadingCtrl.create({cssClass:"my-custom-class",message:"Please wait..."});t.email.length<3?this.presentAlert("Email Required"):(yield s.present(),this.api.reset_password(e).subscribe(e=>{0==e.status?(s.dismiss(),console.log(e)):(s.dismiss(),this.presentAlert(e.msg))},e=>{s.dismiss(),this.presentAlert(e.message)}))}))}]});yield t.present()}))}revert(){this.loginForm.reset()}}return e.\u0275fac=function(t){return new(t||e)(a.Hb(n.g),a.Hb(i.a),a.Hb(c.a),a.Hb(b.a),a.Hb(u.a),a.Hb(o.b),a.Hb(o.B),a.Hb(o.D))},e.\u0275cmp=a.Bb({type:e,selectors:[["app-login"]],decls:30,vars:1,consts:[["fullscreen",""],[1,"login-form"],[1,"txt-center"],["name","log-in-outline",2,"font-size","55px"],["color","dark"],[3,"formGroup","ngSubmit"],["formControlName","email","type","text","required","","placeholder","Email"],["name","at-outline"],["formControlName","password","required","","placeholder","Password","type","Password"],["slot","start","name","lock-closed-outline"],["type","submit","color","primary",1,"txt-center"],["color","primary","routerLink","/register"],["color","primary",3,"click"]],template:function(e,t){1&e&&(a.Kb(0,"ion-content",0),a.Kb(1,"ion-grid"),a.Kb(2,"div",1),a.Kb(3,"ion-col"),a.Kb(4,"div",2),a.Ib(5,"ion-icon",3),a.Ib(6,"br"),a.Kb(7,"strong"),a.ec(8,"Login"),a.Jb(),a.Ib(9,"br"),a.Kb(10,"ion-label",4),a.ec(11,"Sign Into Your Account."),a.Jb(),a.Ib(12,"br"),a.Ib(13,"br"),a.Jb(),a.Kb(14,"form",5),a.Sb("ngSubmit",(function(){return t.login()})),a.Kb(15,"ion-input",6),a.Ib(16,"ion-icon",7),a.Jb(),a.Ib(17,"br"),a.Kb(18,"ion-input",8),a.Ib(19,"ion-icon",9),a.Jb(),a.Ib(20,"br"),a.Kb(21,"ion-button",10),a.ec(22,"Login"),a.Jb(),a.Jb(),a.Kb(23,"ion-footer",2),a.Ib(24,"br"),a.Kb(25,"ion-label",11),a.ec(26,"No account? Sign up here."),a.Jb(),a.Ib(27,"br"),a.Kb(28,"ion-label",12),a.Sb("click",(function(){return t.resetPass()})),a.ec(29,"Forgot Password? Click here."),a.Jb(),a.Jb(),a.Jb(),a.Jb(),a.Jb(),a.Jb()),2&e&&(a.xb(14),a.Xb("formGroup",t.loginForm))},directives:[o.f,o.i,o.e,o.k,o.n,i.m,i.i,i.c,o.l,o.K,i.h,i.b,i.k,o.d,o.h,o.I,n.h],styles:[""]}),e})()}];let m=(()=>{class e{}return e.\u0275mod=a.Fb({type:e}),e.\u0275inj=a.Eb({factory:function(t){return new(t||e)},imports:[[n.i.forChild(d)],n.i]}),e})(),p=(()=>{class e{}return e.\u0275mod=a.Fb({type:e}),e.\u0275inj=a.Eb({factory:function(t){return new(t||e)},imports:[[r.b,i.d,o.z,m,i.j]]}),e})()}}]);